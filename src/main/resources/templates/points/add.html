<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head th:replace="partials/head :: head('Add a Point of Interest')">
    <meta charset="UTF-8">
    <title>Index</title>
    <script
            src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCMpJ-NawmnjMOSlkw5uXkLYjDTSzEmvag&callback=initMap&libraries=&v=weekly"
            defer
    ></script>
    <style>
        /* Always set the map height explicitly to define the size of the div
       * element that contains the map. */
        #map {
            height: 600px;
        }

        /* Optional: Makes the sample page fill the window. */
        html,
        body {
            height: 100%;
            margin: 0;
            padding: 0;
        }
        .custom-map-control-button {
            appearance: button;
            background-color: #fff;
            border: 0;
            border-radius: 2px;
            box-shadow: 0 1px 4px -1px rgba(0, 0, 0, 0.3);
            cursor: pointer;
            margin: 10px;
            padding: 0 0.5em;
            height: 40px;
            font: 400 18px Roboto, Arial, sans-serif;
            overflow: hidden;
        }
        .custom-map-control-button:hover {
            background: #ebebeb;
        }
    </style>
</head>
<body>
<nav th:replace="partials/navbar :: nav"></nav>

<main class="row w-100">
    <div class="col-md-3" sec:authorize="isAuthenticated()">
        <h5>Left column</h5>
    </div>
    <div class="col-md-9">
        <h4>Add a Point of Interest</h4>
        <div id="floating-panel">
            <input id="address" type="textbox" placeholder="Enter a location" />
            <input id="submit" type="button" value="View Location" />
        </div>
        <div id="map"></div>
        <div>
            <form th:action="@{/points/add}" th:method="post" th:object="${poi}">
                <input type="hidden" id="lat" value="" th:field="*{lat}"></form>
                <input type="hidden" id="lng" value="" th:field="*{lon}"></form>
                <div class="input-field col s6">
                    <input type="text" th:field="*{name}" id="name">
                    <label for="name">Enter a Name: </label>
                </div><br>
                <div class="input-field col s6">
                    <select id="category" name="category">
                    <!-- Can't seem to get the disabled part to work correctly. I don't like materialize tbh. -->
                    <!-- Also it looks different than the text input because of the label -->
                    <!-- <option value="" disabled selected>Choose an Option</option> -->
                        <option value="bar">Bar</option>
                        <option value="restaurant">Restaurant</option>
                        <option value="scenic_view">Scenic View</option>
                        <option value="motorcycle_shop">Motorcycle Shop</option>
                        <option value="repair_shop">Repair Shop</option>
                        <option value="other">Other</option>
                    </select>
                    <label for="category">Choose a Category: </label>
                </div><br>
                <div class="input-field col s12">
                    <textarea th:field="*{description}" id="description" rows="20" cols="20"></textarea>
                    <label for="description">Enter a Description: </label>
                </div>
                <div class="input-field">
                    <input type="submit">
                </div>
            </form>
        </div>
    </div>


</main>
<script>
    $(document).ready(function(){
        $('select').formSelect();
    });
</script>
<div th:replace="partials/mapJS/addPOI :: addPOI"></div>
<div th:include="partials/footer :: footer"></div>
<div th:include="partials/scripts :: scripts"></div>
</body>
</html>